<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>模型管理 - ComfyUI Pilot</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #252525; color: #cccccc; display: flex; height: 100vh; overflow: hidden; }

/* 侧边栏 */
.sidebar { width: 240px; background: #282828; border-right: 1px solid #3a3a3a; display: flex; flex-direction: column; }
.logo { padding: 16px; border-bottom: 1px solid #3a3a3a; font-size: 13px; font-weight: 500; color: #ffffff; }
.nav { flex: 1; padding: 8px 0; overflow-y: auto; }
.nav-item { padding: 8px 16px; font-size: 12px; color: #999999; cursor: pointer; transition: all 0.15s; }
.nav-item:hover { background: #333333; color: #cccccc; }
.nav-item.active { background: #3a3a3a; color: #ffffff; border-left: 2px solid #4a9eff; }

/* 主内容 */
.main { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.header { padding: 12px 20px; background: #282828; border-bottom: 1px solid #3a3a3a; display: flex; justify-content: space-between; align-items: center; }
.header h1 { font-size: 15px; font-weight: 500; color: #ffffff; }
.header-actions { display: flex; gap: 8px; }
.btn { padding: 6px 10px; background: #3a3a3a; border: 1px solid #444444; border-radius: 3px; font-size: 12px; color: #cccccc; cursor: pointer; transition: all 0.15s; }
.btn:hover { background: #454545; color: #ffffff; }
.btn-primary { background: #4a9eff; border-color: #4a9eff; color: #ffffff; }
.btn-primary:hover { background: #5aa8ff; }

/* 内容区 */
.content { flex: 1; padding: 16px; overflow-y: auto; }
.tabs { display: flex; gap: 4px; margin-bottom: 16px; border-bottom: 1px solid #3a3a3a; }
.tab { padding: 8px 16px; background: none; border: none; font-size: 12px; color: #999999; cursor: pointer; border-bottom: 2px solid transparent; margin-bottom: -1px; transition: all 0.15s; }
.tab:hover { color: #cccccc; }
.tab.active { color: #4a9eff; border-bottom-color: #4a9eff; }

/* 提供商网格 */
.providers { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; }
.provider-card { background: #2a2a2a; border: 1px solid #3a3a3a; border-radius: 3px; padding: 12px; transition: all 0.15s; }
.provider-card:hover { background: #333333; border-color: #444444; }
.provider-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px; }
.provider-name { font-size: 13px; font-weight: 500; color: #ffffff; }
.provider-code { font-size: 11px; color: #777777; margin-top: 2px; font-family: 'Consolas', monospace; }
.status { display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: 3px; font-size: 11px; }
.status.active { background: rgba(39, 174, 96, 0.15); color: #27ae60; }
.status-dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }
.provider-stats { display: flex; gap: 16px; padding: 8px 0; border-top: 1px solid #3a3a3a; margin-bottom: 10px; }
.stat { font-size: 11px; color: #777777; }
.stat-value { font-size: 13px; color: #cccccc; font-weight: 500; }
.provider-actions { display: flex; gap: 6px; }
.provider-actions .btn { flex: 1; padding: 4px 8px; font-size: 11px; }

/* 模型表格 */
.table-container { background: #2a2a2a; border: 1px solid #3a3a3a; border-radius: 3px; }
.table-header { padding: 12px 16px; border-bottom: 1px solid #3a3a3a; display: flex; justify-content: space-between; align-items: center; }
.table-title { font-size: 13px; font-weight: 500; color: #ffffff; }
.filters { display: flex; gap: 8px; }
.search { padding: 6px 10px; background: #1e1e1e; border: 1px solid #3a3a3a; border-radius: 3px; font-size: 12px; color: #cccccc; width: 180px; outline: none; }
.search:focus { border-color: #555555; }
.select { padding: 6px 10px; background: #1e1e1e; border: 1px solid #3a3a3a; border-radius: 3px; font-size: 12px; color: #cccccc; cursor: pointer; outline: none; }
.select:focus { border-color: #555555; }
table { width: 100%; border-collapse: collapse; }
th { padding: 10px 16px; text-align: left; font-size: 12px; font-weight: 500; color: #999999; background: #282828; border-bottom: 1px solid #3a3a3a; }
td { padding: 10px 16px; font-size: 12px; color: #cccccc; border-bottom: 1px solid #3a3a3a; }
tr:last-child td { border-bottom: none; }
tr:hover td { background: #2d2d2d; }
.model-name { color: #ffffff; font-weight: 500; }
.tag { display: inline-block; padding: 3px 8px; border-radius: 3px; font-size: 11px; }
.tag.llm { background: rgba(74, 158, 255, 0.15); color: #4a9eff; }
.tag.embedding { background: rgba(156, 39, 176, 0.15); color: #9c27b0; }
.actions { display: flex; gap: 4px; }
.actions .btn { padding: 4px 8px; font-size: 11px; }

/* 滚动条 */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #444444; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #555555; }
</style>
</head>
<body>
<div class="sidebar">
  <div class="logo">ComfyUI Pilot</div>
  <div class="nav">
    <div class="nav-item">服务管理</div>
    <div class="nav-item">Agent配置</div>
    <div class="nav-item active">模型管理</div>
    <div class="nav-item">用户管理</div>
    <div class="nav-item">系统监控</div>
  </div>
</div>

<div class="main">
  <div class="header">
    <h1>AI 模型管理</h1>
    <div class="header-actions">
      <button class="btn btn-primary" onclick="alert('新建提供商')">+ 新建提供商</button>
      <button class="btn btn-primary" onclick="alert('新建模型')">+ 新建模型</button>
    </div>
  </div>

  <div class="content">
    <div class="tabs">
      <button class="tab active" onclick="switchTab('providers')">模型提供商</button>
      <button class="tab" onclick="switchTab('models')">AI 模型列表</button>
    </div>

    <div id="providersTab">
      <div class="providers" id="providers"></div>
    </div>

    <div id="modelsTab" style="display:none">
      <div class="table-container">
        <div class="table-header">
          <span class="table-title">AI 模型列表</span>
          <div class="filters">
            <input type="text" class="search" placeholder="搜索模型...">
            <select class="select">
              <option value="">全部提供商</option>
              <option>OpenAI</option>
              <option>Anthropic</option>
            </select>
            <select class="select">
              <option value="">全部类型</option>
              <option>LLM</option>
              <option>向量化</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>模型名称</th>
              <th>提供商</th>
              <th>类型</th>
              <th>最大 Token</th>
              <th>输入价格</th>
              <th>输出价格</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script>
const providers = [
  {name:'OpenAI', code:'OPENAI', models:8, calls:1247},
  {name:'Anthropic', code:'ANTHROPIC', models:4, calls:856},
  {name:'智谱AI', code:'ZHIPU', models:5, calls:623},
  {name:'通义千问', code:'QWEN', models:4, calls:512},
  {name:'DeepSeek', code:'DEEPSEEK', models:2, calls:234}
];

const models = [
  {name:'GPT-4 Turbo', provider:'OpenAI', type:'LLM', tokens:128000, input:0.01, output:0.03},
  {name:'GPT-3.5 Turbo', provider:'OpenAI', type:'LLM', tokens:16385, input:0.0005, output:0.0015},
  {name:'Claude 3 Opus', provider:'Anthropic', type:'LLM', tokens:200000, input:0.015, output:0.075},
  {name:'GLM-4', provider:'智谱AI', type:'LLM', tokens:128000, input:0.01, output:0.01},
  {name:'text-embedding-3-large', provider:'OpenAI', type:'EMBEDDING', tokens:8191, input:0.00013, output:0}
];

providers_elem = document.getElementById('providers');
providers_elem.innerHTML = providers.map(p => `
  <div class="provider-card">
    <div class="provider-header">
      <div>
        <div class="provider-name">${p.name}</div>
        <div class="provider-code">${p.code}</div>
      </div>
      <span class="status active"><span class="status-dot"></span>活跃</span>
    </div>
    <div class="provider-stats">
      <div class="stat"><div class="stat-value">${p.models}</div>模型数</div>
      <div class="stat"><div class="stat-value">${p.calls}</div>今日调用</div>
    </div>
    <div class="provider-actions">
      <button class="btn" onclick="alert('查看')">查看</button>
      <button class="btn" onclick="alert('编辑')">编辑</button>
      <button class="btn" onclick="alert('测试')">测试</button>
    </div>
  </div>
`).join('');

tbody.innerHTML = models.map(m => `
  <tr>
    <td><span class="model-name">${m.name}</span></td>
    <td>${m.provider}</td>
    <td><span class="tag ${m.type.toLowerCase()}">${m.type}</span></td>
    <td>${m.tokens.toLocaleString()}</td>
    <td>¥${m.input}/1K</td>
    <td>¥${m.output}/1K</td>
    <td>
      <div class="actions">
        <button class="btn" onclick="alert('查看')">查看</button>
        <button class="btn" onclick="alert('编辑')">编辑</button>
      </div>
    </td>
  </tr>
`).join('');

function switchTab(tab) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  providersTab.style.display = tab === 'providers' ? 'block' : 'none';
  modelsTab.style.display = tab === 'models' ? 'block' : 'none';
}
</script>
</body>
</html>
